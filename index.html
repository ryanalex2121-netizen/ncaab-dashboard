<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI vs. The Market: NCAAB Value Finder</title>
    <!-- Chosen Palette: Warm Neutral (BG: gray-50, Text: gray-900, Accent: blue-600) -->
    <!-- Application Structure Plan: A dashboard-style SPA. The header introduces the concept of "value." Users can filter games by "All," "Top Spread Value," "Top Total Value," or "Sharp Lines." Each game is a card with two columns (Spread, Total) for direct comparison. Each column has a Chart.js "value bar" visualizing the gap between the market line and the AI projection. A "Details" button on each card opens a modal with the qualitative analysis. This structure is user-friendly, filterable, and visual, making the report's data far more explorable and digestible than a static list. -->
    <!-- Visualization & Content Choices: [Report Data: Game lines, projections, analysis text. Goal: Compare AI projection vs. Market Line. Viz: Horizontal bar charts (Chart.js) in a `.chart-container`. Each chart shows two bars (Market, AI) to visually represent the "value gap" for both Spread and Total. Interaction: Filter buttons (JS) update the rendered cards. Clickable "Details" button (JS) on each card opens a modal to show the qualitative analysis. Justification: This card-based, visual-comparison-first approach is the most effective way to communicate the report's core concept ("value") and allow users to synthesize information at a glance. Library: Chart.js (Canvas) for all visualizations. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        
        .chart-container {
            position: relative;
            width: 100%;
            height: 120px;
            max-height: 120px;
            margin-left: auto;
            margin-right: auto;
        }

        .filter-btn {
            @apply px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all;
        }

        .filter-btn.active {
            @apply bg-blue-600 text-white border-blue-600 hover:bg-blue-700;
        }
        
        .modal {
            transition: opacity 0.25s ease, transform 0.25s ease;
        }
        
        .modal-content {
            transition: transform 0.25s ease;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-900">

    <div class="container mx-auto p-4 md:p-8 max-w-7xl">
        
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-2">AI vs. The Market</h1>
            <p class="text-lg text-gray-600">NCAAB Opening Day Value Finder</p>
            <p class="text-sm text-gray-500 mt-2">Last Updated: November 3, 2025 - 2:15 PM EST</p>
            <p class="mt-4 text-base text-gray-700 max-w-3xl mx-auto">
                This dashboard translates the "NCAAB Projections by Max Value" report into an interactive tool. It helps you find the biggest disagreements between AI-driven game simulations and the live betting market. Use the filters to discover where the AI sees the most value in either the point spread or the over/under total.
            </p>
        </header>

        <nav class="flex justify-center flex-wrap gap-2 mb-8" id="filter-nav">
            <button class="filter-btn active" data-filter="all">All Games</button>
            <button class="filter-btn" data-filter="spread">Top Spread Value</button>
            <button class="filter-btn" data-filter="total">Top Total (O/U) Value</button>
            <button class="filter-btn" data-filter="sharp">Sharp Lines</button>
        </nav>

        <main id="game-grid" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
        </main>

    </div>

    <div id="details-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 hidden" onclick="hideModal()">
        <div class="modal-content bg-white rounded-lg shadow-xl w-full max-w-lg p-6 relative" onclick="event.stopPropagation()">
            <button id="close-modal-btn" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
            <h3 class="text-xl font-bold mb-4">Analytical Breakdown</h3>
            <p id="modal-text" class="text-gray-700 whitespace-pre-line"></p>
        </div>
    </div>

    <script>
        const gameData = [
            {
                id: 1,
                game: "#11 Louisville vs. SC State",
                time: "9:00 PM EST",
                projectedScore: { team1: 85, team2: 63 },
                marketLine: { spread: -35.5, total: 157.5 },
                aiPicks: { spread: "South Carolina State (+35.5)", total: "UNDER 157.5" },
                analysis: "This game has the largest value on the board. \n\nSpread Value: The AI projects a 22-point win, which is 13.5 points less than the 35.5-point spread. This strongly favors South Carolina State (+35.5). \n\nO/U Value: The projected total of 148 is also 9.5 points UNDER the 157.5 line."
            },
            {
                id: 2,
                game: "#20 Auburn vs. Bethune-Cookman",
                time: "8:00 PM EST",
                projectedScore: { team1: 90, team2: 57 },
                marketLine: { spread: -25.5, total: 151.5 },
                aiPicks: { spread: "Auburn (-25.5)", total: "UNDER 151.5" },
                analysis: "The AI sees significant value on the favorite.\n\nSpread Value: The projected 33-point win is 7.5 points more than the 25.5-point spread, strongly favoring Auburn (-25.5).\n\nO/U Value: The projected total of 147 is 4.5 points UNDER the 151.5 line."
            },
            {
                id: 3,
                game: "#16 Iowa State vs. Fairleigh Dickinson",
                time: "8:00 PM EST",
                projectedScore: { team1: 83, team2: 54 },
                marketLine: { spread: -27.5, total: 144.5 },
                aiPicks: { spread: "Iowa State (-27.5)", total: "UNDER 144.5" },
                analysis: "The value here is on the total.\n\nO/U Value: The projected total of 137 is 7.5 points UNDER the 144.5 line.\n\nSpread Value: The 29-point projected win is only 1.5 points different from the 27.5-point spread, making it a 'sharp' line."
            },
            {
                id: 16,
                game: "#3 Florida vs. #13 Arizona",
                time: "7:00 PM EST",
                projectedScore: { team1: 79, team2: 77 },
                marketLine: { spread: -3.5, total: 163.5 },
                aiPicks: { spread: "Arizona (+3.5)", total: "UNDER 163.5" },
                analysis: "This is the marquee game of the night, and the AI sees value.\n\nSpread Value: The projected 2-point win for Florida is 1.5 points inside the spread, favoring Arizona (+3.5).\n\nO/U Value: The biggest value is the total: the projected 156 points is 7.5 points UNDER the 163.5 line."
            },
            {
                id: 21,
                game: "High Point @ Furman",
                time: "6:30 PM EST",
                projectedScore: { team1: 76, team2: 71 },
                marketLine: { spread: -3.5, total: 153.5 },
                aiPicks: { spread: "High Point (-3.5)", total: "UNDER 153.5" },
                analysis: "Models like the favorite. The projected 5-point win is 1.5 points clear of the -3.5 spread.\n\nThe biggest value is on the total: the projected 147 points is 6.5 points UNDER the 153.5 line."
            },
            {
                id: 4,
                game: "#17 Illinois vs. Jackson State",
                time: "8:30 PM EST",
                projectedScore: { team1: 88, team2: 64 },
                marketLine: { spread: -29.5, total: 157.5 },
                aiPicks: { spread: "Jackson State (+29.5)", total: "UNDER 157.5" },
                analysis: "The models see equal value on both the underdog and the under.\n\nSpread Value: The projected 24-point win is 5.5 points less than the 29.5-point spread, favoring Jackson State (+29.5).\n\nO/U Value: The projected total of 152 is also 5.5 points UNDER the 157.5 line."
            },
            {
                id: 34,
                game: "Missouri vs. Howard",
                time: "7:00 PM EST",
                projectedScore: { team1: 88, team2: 65 },
                marketLine: { spread: -20.5, total: 158.5 },
                aiPicks: { spread: "Missouri (-20.5)", total: "UNDER 158.5" },
                analysis: "The AI sees value on both sides.\n\nSpread Value: The projected 23-point win is 2.5 points clear of the -20.5 spread, favoring Missouri (-20.5).\n\nO/U Value: The projected total of 153 is 5.5 points UNDER the 158.5 line."
            },
            {
                id: 5,
                game: "South Alabama @ Toledo",
                time: "7:00 PM EST",
                projectedScore: { team1: 75, team2: 72 },
                marketLine: { spread: -2.5, total: 150.5 },
                aiPicks: { spread: "South Alabama (+2.5)", total: "UNDER 150.5" },
                analysis: "The AI is projecting a road upset.\n\nSpread Value: The projected 3-point win for South Alabama creates a 5.5-point difference from the line, strongly favoring South Alabama (+2.5).\n\nO/U Value: The projected total of 147 is 3.5 points UNDER the 150.5 line."
            },
            {
                id: 15,
                game: "Morgan State @ Georgetown",
                time: "6:30 PM EST",
                projectedScore: { team1: 85, team2: 65 },
                marketLine: { spread: -24.5, total: 154.5 },
                aiPicks: { spread: "Morgan State (+24.5)", total: "UNDER 154.5" },
                analysis: "AI sees value on the underdog.\n\nSpread Value: The projected 20-point win is 4.5 points inside the 24.5-point spread, favoring Morgan State (+24.5).\n\nO/U Value: The projected total of 150 is 4.5 points UNDER the line."
            },
            {
                id: 8,
                game: "#7 Michigan vs. Oakland",
                time: "8:30 PM EST",
                projectedScore: { team1: 83, team2: 63 },
                marketLine: { spread: -24.5, total: 149.5 },
                aiPicks: { spread: "Oakland (+24.5)", total: "UNDER 149.5" },
                analysis: "The models lean toward the in-state underdog.\n\nSpread Value: The projected 20-point win is 4.5 points less than the 24.5-point spread, favoring Oakland (+24.5).\n\nO/U Value: The projected total of 146 is 3.5 points UNDER the 149.5 line."
            },
            {
                id: 6,
                game: "James Madison @ Akron",
                time: "7:00 PM EST",
                projectedScore: { team1: 85, team2: 73 },
                marketLine: { spread: -7.5, total: 153.5 },
                aiPicks: { spread: "Akron (-7.5)", total: "OVER 153.5" },
                analysis: "The models see value on both the favorite and the over.\n\nSpread Value: The projected 12-point win is 4.5 points more than the 7.5-point spread, favoring Akron (-7.5).\n\nO/U Value: The projected total of 158 is also 4.5 points OVER the 153.5 line."
            },
            {
                id: 33,
                game: "Texas St. @ Bowling Green",
                time: "7:00 PM EST",
                projectedScore: { team1: 78, team2: 71 },
                marketLine: { spread: -4.5, total: 144.5 },
                aiPicks: { spread: "Bowling Green (-4.5)", total: "OVER 144.5" },
                analysis: "The AI sees value on both the favorite and the total.\n\nSpread Value: The projected 7-point win is 2.5 points more than the -4.5 spread, favoring Bowling Green (-4.5).\n\nO/U Value: The projected total of 149 is 4.5 points OVER the 144.5 line."
            },
            {
                id: 18,
                game: "Northern Arizona @ Drake",
                time: "4:00 PM EST",
                projectedScore: { team1: 76, team2: 63 },
                marketLine: { spread: -10.5, total: 143.5 },
                aiPicks: { spread: "Drake (-10.5)", total: "UNDER 143.5" },
                analysis: "Models favor the favorite and the under.\n\nSpread Value: The projected 13-point win gives 2.5 points of value on Drake (-10.5).\n\nO/U Value: The projected total of 139 is 4.5 points UNDER the 143.5 line."
            },
            {
                id: 7,
                game: "#12 UCLA vs. Eastern Washington",
                time: "10:30 PM EST",
                projectedScore: { team1: 85, team2: 58 },
                marketLine: { spread: -30.5, total: 147.5 },
                aiPicks: { spread: "Eastern Washington (+30.5)", total: "UNDER 147.5" },
                analysis: "The models lean toward the underdog and the under.\n\nO/U Value: The projected total of 143 is 4.5 points UNDER the 147.5 line.\n\nSpread Value: The projected 27-point win is 3.5 points less than the spread, favoring Eastern Washington (+30.5)."
            },
            {
                id: 25,
                game: "IU Indy @ Ohio State",
                time: "6:30 PM EST",
                projectedScore: { team1: 93, team2: 65 },
                marketLine: { spread: -27.5, total: 153.5 },
                aiPicks: { spread: "Ohio State (-27.5)", total: "OVER 153.5" },
                analysis: "The AI's 28-point projected win is right on the -27.5 spread.\n\nThe projected total of 158 is 4.5 points OVER the 153.5 line."
            },
            {
                id: 10,
                game: "Indiana State @ Charlotte",
                time: "8:00 PM EST",
                projectedScore: { team1: 77, team2: 76 },
                marketLine: { spread: -2.5, total: 152.5 },
                aiPicks: { spread: "Indiana State (+2.5)", total: "OVER 152.5" },
                analysis: "The value is on the spread in this projected upset.\n\nSpread Value: The projected 1-point win for Indiana State is a 3.5-point difference from the line, favoring Indiana State (+2.5).\n\nO/U Value: The projected total of 153 is only 0.5 points off the line (No Value)."
            },
            {
                id: 11,
                game: "Samford @ Tulane",
                time: "8:30 PM EST",
                projectedScore: { team1: 78, team2: 75 },
                marketLine: { spread: -6.5, total: 154.5 },
                aiPicks: { spread: "Samford (+6.5)", total: "UNDER 154.5" },
                analysis: "The AI expects a close game, giving value to the underdog.\n\nSpread Value: The projected 3-point win for Tulane is 3.5 points less than the spread, favoring Samford (+6.5).\n\nO/U Value: The projected total of 153 is 1.5 points off the line (No Value)."
            },
            {
                id: 14,
                game: "Coppin State @ Maryland",
                time: "6:30 PM EST",
                projectedScore: { team1: 86, team2: 57 },
                marketLine: { spread: -28.5, total: 139.5 },
                aiPicks: { spread: "Maryland (-28.5)", total: "OVER 139.5" },
                analysis: "The AI projection for a 29-point win is almost identical to the -28.5 spread.\n\nThe projected total of 143, however, is 3.5 points OVER the 139.5 line."
            },
            {
                id: 24,
                game: "Quinnipiac @ #5 St. John's",
                time: "6:30 PM EST",
                projectedScore: { team1: 89, team2: 65 },
                marketLine: { spread: -25.5, total: 157.5 },
                aiPicks: { spread: "Quinnipiac (+25.5)", total: "UNDER 157.5" },
                analysis: "The projected 24-point win is 1.5 points inside the 25.5-point spread, favoring Quinnipiac (+25.5).\n\nThe projected total of 154 is 3.5 points UNDER the 157.5 line."
            },
            {
                id: 9,
                game: "#18 Tennessee vs. Mercer",
                time: "7:00 PM EST",
                projectedScore: { team1: 87, team2: 60 },
                marketLine: { spread: -27.5, total: 143.5 },
                aiPicks: { spread: "Tennessee (-27.5)", total: "OVER 143.5" },
                analysis: "The AI sees a sharp spread but some value on the total.\n\nThe 27-point projected win is only 0.5 points off the spread (No Value).\n\nThe projected total of 147 is 3.5 points OVER the 143.5 line."
            },
            {
                id: 43,
                game: "#19 Kansas vs. Green Bay",
                time: "8:00 PM EST",
                projectedScore: { team1: 88, team2: 62 },
                marketLine: { spread: -28.5, total: 151.5 },
                aiPicks: { spread: "Green Bay (+28.5)", total: "UNDER 151.5" },
                analysis: "The AI sees value on the underdog.\n\nSpread Value: The projected 26-point win is 2.5 points inside the 28.5-point spread, favoring Green Bay (+28.5).\n\nO/U Value: The projected total of 150 is 1.5 points under the line."
            },
            {
                id: 45,
                game: "#21 Gonzaga vs. Texas Southern",
                time: "9:00 PM EST",
                projectedScore: { team1: 92, team2: 65 },
                marketLine: { spread: -29.5, total: 157.5 },
                aiPicks: { spread: "Texas Southern (+29.5)", total: "UNDER 157.5" },
                analysis: "The AI favors the underdog to cover.\n\nSpread Value: The projected 27-point win is 2.5 points inside the 29.5-point spread, favoring Texas Southern (+29.5).\n\nO/U Value: The projected total of 157 is right on the line."
            },
            {
                id: 27,
                game: "#22 Michigan State vs. Colgate",
                time: "7:00 PM EST",
                projectedScore: { team1: 82, team2: 64 },
                marketLine: { spread: -20.5, total: 146.5 },
                aiPicks: { spread: "Colgate (+20.5)", total: "UNDER 146.5" },
                analysis: "The AI projects an 18-point win for MSU, which is 2.5 points inside the 20.5-point spread, favoring Colgate (+20.5).\n\nThe projected total of 146 is also just under the 146.5 line."
            },
            {
                id: 30,
                game: "Delaware @ Bucknell",
                time: "7:00 PM EST",
                projectedScore: { team1: 79, team2: 75 },
                marketLine: { spread: -1.5, total: 153.5 },
                aiPicks: { spread: "Delaware (-1.5)", total: "OVER 153.5" },
                analysis: "The AI sees value on the favorite.\n\nSpread Value: The projected 4-point win is 2.5 points more than the -1.5 spread, favoring Delaware (-1.5).\n\nO/U Value: The total is a perfect match."
            },
            {
                id: 32,
                game: "Troy @ Kent St.",
                time: "7:00 PM EST",
                projectedScore: { team1: 75, team2: 69 },
                marketLine: { spread: -3.5, total: 142.5 },
                aiPicks: { spread: "Kent St. (-3.5)", total: "OVER 142.5" },
                analysis: "The AI projects a 6-point win, 2.5 points more than the -3.5 spread, favoring Kent St. (-3.5).\n\nThe projected total of 144 is 1.5 points OVER the 142.5 line."
            },
            {
                id: 40,
                game: "Coastal Carolina @ Western Michigan",
                time: "7:00 PM EST",
                projectedScore: { team1: 76, team2: 71 },
                marketLine: { spread: -2.5, total: 146.5 },
                aiPicks: { spread: "Western Michigan (-2.5)", total: "OVER 146.5" },
                analysis: "The AI projects a 5-point win for the favorite, 2.5 points clear of the -2.5 spread.\n\nThe projected total of 147 is also very close to the 146.5 line."
            },
            {
                id: 38,
                game: "Marshall @ UMass",
                time: "7:00 PM EST",
                projectedScore: { team1: 79, team2: 72 },
                marketLine: { spread: -4.5, total: 150.5 },
                aiPicks: { spread: "UMass (-4.5)", total: "OVER 150.5" },
                analysis: "The AI favors the home team.\n\nSpread Value: The projected 7-point win is 2.5 points more than the -4.5 spread, favoring UMass (-4.5).\n\nO/U Value: The projected total of 151 is right on the 150.5 line."
            },
            {
                id: 36,
                game: "#14 Arkansas vs. Southern",
                time: "7:00 PM EST",
                projectedScore: { team1: 89, team2: 62 },
                marketLine: { spread: -24.5, total: 148.5 },
                aiPicks: { spread: "Arkansas (-24.5)", total: "OVER 148.5" },
                analysis: "The AI favors the Hogs.\n\nSpread Value: The projected 27-point win is 2.5 points more than the -24.5 spread, favoring Arkansas (-24.5).\n\nO/U Value: The projected total of 151 is also 2.5 points OVER the 148.5 line."
            },
            {
                id: 26,
                game: "Youngstown St. @ Pittsburgh",
                time: "7:00 PM EST",
                projectedScore: { team1: 80, team2: 68 },
                marketLine: { spread: -14.5, total: 148.5 },
                aiPicks: { spread: "Youngstown St. (+14.5)", total: "UNDER 148.5" },
                analysis: "The AI projects a 12-point win for Pitt, which is 2.5 points inside the 14.5-point spread, favoring Youngstown St. (+14.5).\n\nThe total of 148 is also very close to the 148.5 line."
            },
            {
                id: 31,
                game: "Appalachian St. @ Central Michigan",
                time: "7:00 PM EST",
                projectedScore: { team1: 72, team2: 68 },
                marketLine: { spread: -2.5, total: 138.5 },
                aiPicks: { spread: "Appalachian St. (-2.5)", total: "OVER 138.5" },
                analysis: "The AI projects a 4-point win, 1.5 points clear of the -2.5 spread, favoring the favorite.\n\nThe projected total of 140 is 1.5 points OVER the 138.5 line."
            },
            {
                id: 39,
                game: "Boston College @ Florida Atlantic",
                time: "7:00 PM EST",
                projectedScore: { team1: 77, team2: 74 },
                marketLine: { spread: -1.5, total: 149.5 },
                aiPicks: { spread: "Florida Atlantic (-1.5)", total: "OVER 149.5" },
                analysis: "AI agrees with the line, projecting a 3-point win, which is 1.5 points clear of the -1.5 spread.\n\nThe projected total of 151 is also 1.5 points OVER the 149.5 line."
            },
            {
                id: 28,
                game: "Wofford @ George Mason",
                time: "7:00 PM EST",
                projectedScore: { team1: 78, team2: 62 },
                marketLine: { spread: -14.5, total: 140.5 },
                aiPicks: { spread: "George Mason (-14.5)", total: "UNDER 140.5" },
                analysis: "The AI projects a 16-point win for the favorite, 1.5 points clear of the 14.5-point spread.\n\nThe projected total of 140 is perfectly in line with the 140.5 market total."
            },
            {
                id: 29,
                game: "Arkansas St. @ Ohio",
                time: "7:00 PM EST",
                projectedScore: { team1: 83, team2: 78 },
                marketLine: { spread: -3.5, total: 159.5 },
                aiPicks: { spread: "Ohio (-3.5)", total: "OVER 159.5" },
                analysis: "The AI's projected 5-point win is 1.5 points clear of the -3.5 spread.\n\nThe projected total of 161 is also 1.5 points OVER the 159.5 line. A sharp line on both."
            },
            {
                id: 35,
                game: "Louisiana @ Ball St.",
                time: "7:00 PM EST",
                projectedScore: { team1: 74, team2: 70 },
                marketLine: { spread: -2.5, total: 143.5 },
                aiPicks: { spread: "Ball St. (-2.5)", total: "OVER 143.5" },
                analysis: "The AI projects a 4-point win for the favorite, 1.5 points clear of the -2.5 spread.\n\nThe projected total of 144 is also very close to the 143.5 line."
            },
            {
                id: 41,
                game: "Old Dominion @ Miami (OH)",
                time: "7:00 PM EST",
                projectedScore: { team1: 78, team2: 70 },
                marketLine: { spread: -6.5, total: 147.5 },
                aiPicks: { spread: "Miami (OH) (-6.5)", total: "OVER 147.5" },
                analysis: "The AI projects an 8-point win, 1.5 points clear of the -6.5 spread.\n\nThe projected total of 148 is also very close to the 147.5 line."
            },
            {
                id: 44,
                game: "#24 Wisconsin vs. Campbell",
                time: "8:00 PM EST",
                projectedScore: { team1: 84, team2: 65 },
                marketLine: { spread: -20.5, total: 150.5 },
                aiPicks: { spread: "Campbell (+20.5)", total: "UNDER 150.5" },
                analysis: "The AI projects a 19-point win, which is 1.5 points inside the 20.5-point spread, favoring Campbell (+20.5).\n\nThe projected total of 149 is 1.5 points under the 150.5 line."
            },
            {
                id: 37,
                game: "#25 UNC vs. Central Arkansas",
                time: "7:00 PM EST",
                projectedScore: { team1: 95, team2: 60 },
                marketLine: { spread: -33.5, total: 155.5 },
                aiPicks: { spread: "UNC (-33.5)", total: "UNDER 155.5" },
                analysis: "A sharp line. The AI's 35-point projected win is 1.5 points clear of the -33.5 spread.\n\nThe projected total of 155 is also right on the 155.5 line."
            },
            {
                id: 12,
                game: "Villanova @ #8 BYU",
                time: "9:30 PM EST",
                projectedScore: { team1: 80, team2: 71 },
                marketLine: { spread: -8.5, total: 152.5 },
                aiPicks: { spread: "BYU (-8.5)", total: "UNDER 152.5" },
                analysis: "No significant value. The AI's 9-point projected win is only 0.5 points different from the spread.\n\nThe 151-point projected total is 1.5 points UNDER the 152.5 line."
            },
            {
                id: 13,
                game: "#2 Houston vs. Lehigh",
                time: "8:00 PM EST",
                projectedScore: { team1: 86, team2: 50 },
                marketLine: { spread: -35.5, total: 136.5 },
                aiPicks: { spread: "Houston (-35.5)", total: "UNDER 136.5" },
                analysis: `This is the "sharpest" line of the day, according to the AI. The projected 36-point win and 136-point total are almost identical to the betting lines.`
            },
            {
                id: 23,
                game: "Bradley @ St. Bonaventure",
                time: "11:00 AM EST",
                projectedScore: { team1: 71, team2: 68 },
                marketLine: { spread: -1.5, total: 139.5 },
                aiPicks: { spread: "Bradley (-1.5)", total: "UNDER 139.5" },
                analysis: "A razor-thin game. The AI's 3-point win projection is very close to the 1.5-point spread, indicating a sharp line.\n\nThe projected total of 139 is also right on the market line."
            },
            {
                id: 17,
                game: "Omaha @ Murray State",
                time: "1:30 PM EST",
                projectedScore: { team1: 77, team2: 72 },
                marketLine: { spread: -4.5, total: 149.5 },
                aiPicks: { spread: "Murray State (-4.5)", total: "UNDER 149.5" },
                analysis: "AI projection for a 5-point win is almost identical to the -4.5 spread.\n\nThe projected total of 149 is also just 0.5 points under the line. A very sharp line."
            },
            {
                id: 20,
                game: "Georgia St. @ Eastern Michigan",
                time: "6:30 PM EST",
                projectedScore: { team1: 72, team2: 76 },
                marketLine: { spread: -3.5, total: 149.5 },
                aiPicks: { spread: "Eastern Michigan (-3.5)", total: "UNDER 149.5" },
                analysis: "The AI's 4-point win for the home team is right on the -3.5 spread.\n\nThe projected total of 148 is 1.5 points under the line, suggesting a sharp line overall."
            },
            {
                id: 22,
                game: "Southern Miss @ Buffalo",
                time: "6:30 PM EST",
                projectedScore: { team1: 77, team2: 75 },
                marketLine: { spread: -2.5, total: 153.5 },
                aiPicks: { spread: "Southern Miss (-2.5)", total: "UNDER 153.5" },
                analysis: "A true coin-flip game. The AI's 2-point win for Southern Miss is right on the -2.5 spread.\n\nThe projected total of 152 is 1.5 points under the line. A very sharp line."
            },
            {
                id: 42,
                game: "#15 Alabama vs. North Dakota",
                time: "8:00 PM EST",
                projectedScore: { team1: 100, team2: 68 },
                marketLine: { spread: -31.5, total: 168.5 },
                aiPicks: { spread: "Alabama (-31.5)", total: "UNDER 168.5" },
                analysis: "A sharp line on a high-scoring game. The AI's 32-point projected win is right on the -31.5 spread.\n\nThe projected total of 168 is also right on the 168.5 line."
            }
        ];

        let activeFilter = 'all';
        let charts = [];

        document.addEventListener('DOMContentLoaded', () => {
            loadData();
            setupFilters();
            document.getElementById('close-modal-btn').addEventListener('click', hideModal);
        });

        function loadData() {
            // In a real-world application, this is where you would make an API call
            // to fetch the latest game data, e.g.:
            // fetch('https://api.my-sports-data.com/ncaab-projections')
            //     .then(response => response.json())
            //     .then(data => {
            //         gameData = data; // Overwrite the hard-coded data
            //         renderGameCards(gameData);
            //     });
            
            // For this static demo, we'll sort by max value by default
            let dataWithValues = gameData.map(g => {
                const projectedMargin = g.projectedScore.team1 - g.projectedScore.team2;
                const projectedTotal = g.projectedScore.team1 + g.projectedScore.team2;
                const spreadValue = Math.abs(projectedMargin - (g.marketLine.spread * -1));
                const totalValue = Math.abs(projectedTotal - g.marketLine.total);
                const maxValue = Math.max(spreadValue, totalValue);
                let maxValueSource = 'Tied';
                if (spreadValue > totalValue) maxValueSource = 'Spread';
                else if (totalValue > spreadValue) maxValueSource = 'Total';
                
                return {...g, spreadValue, totalValue, maxValue, maxValueSource};
            });
            
            const sortedData = dataWithValues.sort((a,b) => b.maxValue - a.maxValue);
            renderGameCards(sortedData);
        }

        function setupFilters() {
            const filterNav = document.getElementById('filter-nav');
            filterNav.addEventListener('click', (e) => {
                if (e.target.tagName === 'BUTTON') {
                    const filter = e.target.dataset.filter;
                    if (filter === activeFilter) return;

                    filterNav.querySelector('.active').classList.remove('active');
                    e.target.classList.add('active');
                    activeFilter = filter;
                    
                    let dataWithValues = gameData.map(g => {
                        const projectedMargin = g.projectedScore.team1 - g.projectedScore.team2;
                        const projectedTotal = g.projectedScore.team1 + g.projectedScore.team2;
                        const spreadValue = Math.abs(projectedMargin - (g.marketLine.spread * -1));
                        const totalValue = Math.abs(projectedTotal - g.marketLine.total);
                        const maxValue = Math.max(spreadValue, totalValue);
                        let maxValueSource = 'Tied';
                        if (spreadValue > totalValue) maxValueSource = 'Spread';
                        else if (totalValue > spreadValue) maxValueSource = 'Total';
                        
                        return {...g, spreadValue, totalValue, maxValue, maxValueSource};
                    });

                    let filteredData = dataWithValues;
                    if (filter === 'spread') {
                        filteredData = dataWithValues.filter(g => g.maxValueSource === 'Spread' || g.maxValueSource === 'Tied').sort((a,b) => b.spreadValue - a.spreadValue);
                    } else if (filter === 'total') {
                        filteredData = dataWithValues.filter(g => g.maxValueSource === 'Total' || g.maxValueSource === 'Tied').sort((a,b) => b.totalValue - a.totalValue);
                    } else if (filter === 'sharp') {
                        filteredData = dataWithValues.filter(g => g.maxValue < 2).sort((a,b) => a.maxValue - b.maxValue);
                    } else {
                        filteredData = dataWithValues.sort((a,b) => b.maxValue - a.maxValue); 
                    }
                    
                    renderGameCards(filteredData);
                }
            });
        }

        function renderGameCards(games) {
            const grid = document.getElementById('game-grid');
            grid.innerHTML = '';
            charts.forEach(chart => chart.destroy());
            charts = [];

            if (games.length === 0) {
                grid.innerHTML = `<p class="text-gray-600 col-span-full text-center">No games match the current filter.</p>`;
                return;
            }

            games.forEach(game => {
                const projectedMargin = game.projectedScore.team1 - game.projectedScore.team2;
                const projectedTotal = game.projectedScore.team1 + game.projectedScore.team2;
                
                const spreadValue = Math.abs(projectedMargin - (game.marketLine.spread * -1));
                const totalValue = Math.abs(projectedTotal - game.marketLine.total);
                const cardMaxValue = Math.max(spreadValue, totalValue);

                const card = `
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden border border-gray-200 flex flex-col">
                        <div class="p-4 border-b border-gray-100">
                            <div class="flex justify-between items-center mb-2">
                                <h3 class="text-lg font-bold text-gray-900">${game.game}</h3>
                                <span class="px-3 py-1 rounded-full text-xs font-semibold ${cardMaxValue >= 4.0 ? 'bg-blue-100 text-blue-800' : 'bg-gray-100 text-gray-700'}">
                                    Max Value: ${cardMaxValue.toFixed(1)} pts
                                </span>
                            </div>
                            <p class="text-sm text-gray-500">${game.time}</p>
                        </div>

                        <div class="grid grid-cols-2 gap-4 p-4 flex-grow">
                            <div class="border-r pr-4 border-gray-200">
                                <h4 class="font-semibold text-center mb-2 text-gray-700">Point Spread</h4>
                                <div class="chart-container">
                                    <canvas id="spread-chart-${game.id}"></canvas>
                                </div>
                                <div class="text-center text-sm mt-2">
                                    <p>Market: ${game.marketLine.spread > 0 ? '+' : ''}${game.marketLine.spread}</p>
                                    <p>AI Proj: ${projectedMargin > 0 ? '+' : ''}${projectedMargin.toFixed(0)}</p>
                                </div>
                                <div class="mt-3 p-2 rounded-md ${spreadValue >= 4.0 ? 'bg-blue-50' : 'bg-gray-50'}">
                                    <p class="text-xs font-semibold text-center ${spreadValue >= 4.0 ? 'text-blue-800' : 'text-gray-700'}">
                                        AI Pick: ${game.aiPicks.spread}
                                    </p>
                                </div>
                            </div>

                            <div>
                                <h4 class="font-semibold text-center mb-2 text-gray-700">Over/Under</h4>
                                <div class="chart-container">
                                    <canvas id="total-chart-${game.id}"></canvas>
                                </div>
                                <div class="text-center text-sm mt-2">
                                    <p>Market: ${game.marketLine.total.toFixed(1)}</p>
                                    <p>AI Proj: ${projectedTotal.toFixed(0)}</p>
                                </div>
                                <div class="mt-3 p-2 rounded-md ${totalValue >= 4.0 ? 'bg-blue-50' : 'bg-gray-50'}">
                                    <p class="text-xs font-semibold text-center ${totalValue >= 4.0 ? 'text-blue-800' : 'text-gray-700'}">
                                        AI Pick: ${game.aiPicks.total}
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="p-4 bg-gray-50 border-t border-gray-100">
                            <button class="w-full text-sm font-medium text-blue-600 hover:text-blue-800" data-analysis="${game.analysis.replace(/"/g, '&quot;')}">
                                Show Analysis
                            </button>
                        </div>
                    </div>
                `;
                grid.innerHTML += card;
            });
            
            // This setTimeout ensures the DOM elements exist before we try to draw charts in them.
            setTimeout(() => {
                renderCharts(games);
                setupModalButtons();
            }, 100);
        }

        function renderCharts(games) {
            games.forEach(game => {
                const projectedMargin = game.projectedScore.team1 - game.projectedScore.team2;
                const projectedTotal = game.projectedScore.team1 + game.projectedScore.team2;

                const spreadCtxId = `spread-chart-${game.id}`;
                const totalCtxId = `total-chart-${game.id}`;
                
                const spreadCtx = document.getElementById(spreadCtxId)?.getContext('2d');
                const totalCtx = document.getElementById(totalCtxId)?.getContext('2d');

                if (!spreadCtx || !totalCtx) {
                    return;
                }

                const marketSpread = game.marketLine.spread * -1;
                const spreadValues = [marketSpread, projectedMargin];
                const spreadMin = Math.min(...spreadValues) - 5;
                const spreadMax = Math.max(...spreadValues) + 5;

                const marketTotal = game.marketLine.total;
                const totalValues = [marketTotal, projectedTotal];
                const totalMin = Math.min(...totalValues) - 10;
                const totalMax = Math.max(...totalValues) + 10;

                const spreadData = {
                    labels: ['Spread'],
                    datasets: [
                        { label: 'Market Line', data: [marketSpread], backgroundColor: '#9CA3AF' },
                        { label: 'AI Projection', data: [projectedMargin], backgroundColor: '#3B82F6' }
                    ]
                };

                const totalData = {
                    labels: ['Total'],
                    datasets: [
                        { label: 'Market Line', data: [marketTotal], backgroundColor: '#9CA3AF' },
                        { label: 'AI Projection', data: [projectedTotal], backgroundColor: '#3B82F6' }
                    ]
                };

                const getChartOptions = (minVal, maxVal) => ({
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { 
                            display: true, 
                            position: 'bottom',
                            labels: {
                                boxWidth: 12,
                                font: { size: 10 }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `${context.dataset.label}: ${context.raw.toFixed(1)}`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: { 
                            beginAtZero: false, 
                            ticks: { font: { size: 10 } },
                            min: minVal,
                            max: maxVal
                        },
                        y: { display: false }
                    }
                });

                charts.push(new Chart(spreadCtx, { type: 'bar', data: spreadData, options: getChartOptions(spreadMin, spreadMax) }));
                charts.push(new Chart(totalCtx, { type: 'bar', data: totalData, options: getChartOptions(totalMin, totalMax) }));
            });
        }
        
        function setupModalButtons() {
            document.querySelectorAll('button[data-analysis]').forEach(button => {
                button.addEventListener('click', () => {
                    const analysisText = button.getAttribute('data-analysis');
                    showModal(analysisText);
                });
            });
        }

        function showModal(analysisText) {
            const modal = document.getElementById('details-modal');
            const modalText = document.getElementById('modal-text');
            modalText.innerText = analysisText;
            modal.classList.remove('hidden');
        }

        function hideModal() {
            const modal = document.getElementById('details-modal');
            modal.classList.add('hidden');
        }

    </script>
</body>
</html>

